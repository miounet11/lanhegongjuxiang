# è“æ²³åŠ©æ‰‹é¡¹ç›®æ¶æ„æ–‡æ¡£

## å˜æ›´è®°å½• (Changelog)

**æœ€æ–°æ‰«ææ—¶é—´ï¼š** 2025-09-15 13:45:51
- æ·±åº¦è¡¥æå®Œæˆï¼šå·¥å…·ç±»å®ç°ã€ç•Œé¢å¸ƒå±€ã€æ¨¡å—åº“è¯¦æƒ…
- æ–°å¢Roomæ•°æ®åº“æ¶æ„è¯¦æƒ…åˆ†æ
- å®Œå–„Shizukuæƒé™ç®¡ç†ç³»ç»Ÿå®ç°
- è¡¥å……ç³»ç»Ÿä¼˜åŒ–å™¨å®Œæ•´åŠŸèƒ½æ¸…å•
- æ›´æ–°æ¨¡å—ç»“æ„å›¾å’Œå¯¼èˆªé¢åŒ…å±‘

**ä¸Šæ¬¡æ‰«ææ—¶é—´ï¼š** 2025-09-15 12:04:50
- è‡ªé€‚åº”åˆå§‹åŒ–æ¶æ„å¸ˆé¦–æ¬¡åˆ†æ
- å®Œæˆé¡¹ç›®ç»“æ„å…¨é¢æ‰«æ
- ç”Ÿæˆæ¨¡å—åŒ–æ¶æ„æ–‡æ¡£

## é¡¹ç›®æ„¿æ™¯

è“æ²³åŠ©æ‰‹ï¼ˆè“æ²³å·¥å…·ç®±ï¼‰æ˜¯ä¸€æ¬¾ä¸“ä¸ºAndroidç”¨æˆ·æ‰“é€ çš„å…¨é¢ç³»ç»Ÿä¼˜åŒ–å·¥å…·ï¼Œé›†æˆäº†20+å®ç”¨åŠŸèƒ½æ¨¡å—ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼çš„æ‰‹æœºä¼˜åŒ–ä½“éªŒã€‚åŒ…å«æ™ºèƒ½ä¼˜åŒ–å¼•æ“ã€æ€§èƒ½ç›‘æ§ã€ç½‘ç»œè¯Šæ–­ã€æµè§ˆå™¨ã€ç³»ç»Ÿç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## æ¶æ„æ€»è§ˆ

### æŠ€æœ¯æ ˆ
- **å¹³å°ï¼š** Android (Kotlin)
- **æœ€ä½æ”¯æŒï¼š** Android 7.0 (API 24)
- **ç›®æ ‡ç‰ˆæœ¬ï¼š** Android 15 (API 36)
- **æ¶æ„æ¨¡å¼ï¼š** MVVM + Repositoryæ¨¡å¼
- **UIæ¡†æ¶ï¼š** Material Design 3.0
- **æ•°æ®å­˜å‚¨ï¼š** Roomæ•°æ®åº“
- **ä¾èµ–æ³¨å…¥ï¼š** æœªä½¿ç”¨ï¼ˆåŸç”ŸAndroidå¼€å‘ï¼‰
- **ç‰¹æ®Šæƒé™ï¼š** Shizukuæ¡†æ¶é›†æˆ

### æ¨¡å—ç»“æ„å›¾

```mermaid
graph TD
    A["(æ ¹) è“æ²³åŠ©æ‰‹"] --> B["app/"];
    A --> C["mokuai/"];
    B --> D["ä¸»åº”ç”¨æ¨¡å—"];
    D --> E["activities/"];
    D --> F["utils/"];
    D --> G["models/"];
    D --> H["services/"];
    D --> I["viewmodels/"];
    C --> L["core/"];
    C --> M["modules/"];
    L --> N["shizuku-manager/"];
    M --> O["network/"];
    M --> P["database/"];
    F --> Q["ShizukuManager"];
    F --> R["SystemOptimizer"];
    F --> S["AppDatabase"];
    F --> T["PerformanceMonitor"];

    click B "./app/CLAUDE.md" "æŸ¥çœ‹ä¸»åº”ç”¨æ¨¡å—æ–‡æ¡£"
    click C "./mokuai/CLAUDE.md" "æŸ¥çœ‹æ¨¡å—åº“æ–‡æ¡£"
    click E "./app/src/main/java/com/lanhe/gongjuxiang/activities/CLAUDE.md" "æŸ¥çœ‹Activityæ¨¡å—æ–‡æ¡£"
    click F "./app/src/main/java/com/lanhe/gongjuxiang/utils/CLAUDE.md" "æŸ¥çœ‹å·¥å…·ç±»æ¨¡å—æ–‡æ¡£"
```

## æ¨¡å—ç´¢å¼•

| æ¨¡å—è·¯å¾„ | ç±»å‹ | èŒè´£æè¿° | æŠ€æœ¯æ ˆ | çŠ¶æ€ |
|---------|------|----------|---------|------|
| `app/` | Androidåº”ç”¨ | ä¸»åº”ç”¨æ¨¡å—ï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½å®ç° | Kotlin, Android SDK | âœ… å®Œæ•´ |
| `mokuai/` | æ¨¡å—åº“ | å¯å¤ç”¨çš„åŠŸèƒ½æ¨¡å—åº“ | Java/Kotlin | ğŸ”§ å¼€å‘ä¸­ |
| `app/src/main/java/com/lanhe/gongjuxiang/activities/` | UIå±‚ | ç•Œé¢æ§åˆ¶å™¨ï¼Œ26ä¸ªActivity | Kotlin, ViewBinding | âœ… å®Œæ•´ |
| `app/src/main/java/com/lanhe/gongjuxiang/utils/` | å·¥å…·å±‚ | æ ¸å¿ƒå·¥å…·ç±»å’Œç®¡ç†å™¨ï¼Œ38ä¸ªå·¥å…·ç±» | Kotlin | âœ… å®Œæ•´ |
| `app/src/main/java/com/lanhe/gongjuxiang/models/` | æ•°æ®å±‚ | æ•°æ®æ¨¡å‹å’Œå®ä½“ç±» | Kotlin, Room | âœ… å®Œæ•´ |
| `app/src/main/java/com/lanhe/gongjuxiang/services/` | æœåŠ¡å±‚ | åå°æœåŠ¡å’Œå‰å°æœåŠ¡ | Kotlin | âœ… å®Œæ•´ |

## è¿è¡Œä¸å¼€å‘

### ç¯å¢ƒè¦æ±‚
- **Android Studioï¼š** 2024.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- **JDKï¼š** 11
- **Gradleï¼š** 8.12.1
- **Kotlinï¼š** 2.0.21
- **Android Gradle Pluginï¼š** 8.12.1

### æ„å»ºæ­¥éª¤
```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>

# 2. å¯¼å…¥Android Studio
# æ‰“å¼€Android Studioå¹¶å¯¼å…¥é¡¹ç›®

# 3. åŒæ­¥Gradle
./gradlew clean build

# 4. è¿è¡Œåº”ç”¨
./gradlew installDebug
```

### ç­¾åé…ç½®
é¡¹ç›®ä½¿ç”¨å‘å¸ƒç­¾åï¼Œéœ€è¦åœ¨ `local.properties` ä¸­é…ç½®ï¼š
```properties
RELEASE_STORE_FILE=keystore.jks
RELEASE_STORE_PASSWORD=<password>
RELEASE_KEY_ALIAS=<alias>
RELEASE_KEY_PASSWORD=<password>
```

## æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
- **å·¥å…·ï¼š** JUnit 4, Mockito
- **è¦†ç›–ï¼š** utilsåŒ…æ ¸å¿ƒå·¥å…·ç±»
- **ä½ç½®ï¼š** `app/src/test/`

### ä»ªå™¨æµ‹è¯•
- **å·¥å…·ï¼š** Espresso, AndroidX Test
- **è¦†ç›–ï¼š** Activityå’ŒFragment UIæµ‹è¯•
- **ä½ç½®ï¼š** `app/src/androidTest/`

### æµ‹è¯•è¿è¡Œ
```bash
# å•å…ƒæµ‹è¯•
./gradlew test

# ä»ªå™¨æµ‹è¯•
./gradlew connectedAndroidTest
```

## ç¼–ç è§„èŒƒ

### Kotlinä»£ç é£æ ¼
- éµå¾ªKotlinå®˜æ–¹ç¼–ç çº¦å®š
- ä½¿ç”¨ViewBindingæ›¿ä»£findViewById
- ä¼˜å…ˆä½¿ç”¨åç¨‹å¤„ç†å¼‚æ­¥æ“ä½œ
- ä½¿ç”¨sealed classå¤„ç†çŠ¶æ€ç®¡ç†

### å‘½åçº¦å®š
- **Activityï¼š** `XxxActivity.kt`
- **Fragmentï¼š** `XxxFragment.kt` 
- **Adapterï¼š** `XxxAdapter.kt`
- **ViewModelï¼š** `XxxViewModel.kt`
- **å·¥å…·ç±»ï¼š** `XxxManager.kt` / `XxxHelper.kt`

### æ¶æ„çº¦å®š
- ä½¿ç”¨Repositoryæ¨¡å¼ç®¡ç†æ•°æ®
- ViewModelä¸ç›´æ¥æŒæœ‰Context
- ä½¿ç”¨LiveDataè¿›è¡Œæ•°æ®è§‚å¯Ÿ
- å¼‚å¸¸å¤„ç†ç»Ÿä¸€å°è£…

## AI ä½¿ç”¨æŒ‡å¼•

### é¡¹ç›®ä¸Šä¸‹æ–‡
- **é¢†åŸŸï¼š** Androidç³»ç»Ÿå·¥å…·å¼€å‘
- **ç”¨æˆ·ç¾¤ä½“ï¼š** Androidé«˜çº§ç”¨æˆ·å’Œå¼€å‘è€…
- **æ ¸å¿ƒä»·å€¼ï¼š** ç³»ç»Ÿä¼˜åŒ–ã€æ€§èƒ½æå‡ã€åŠŸèƒ½å¢å¼º

### å¸¸ç”¨ä»»åŠ¡
1. **åŠŸèƒ½å¼€å‘ï¼š** æ–°å¢å·¥å…·åŠŸèƒ½æ¨¡å—
2. **æ€§èƒ½ä¼˜åŒ–ï¼š** å†…å­˜ã€ç”µæ± ã€ç½‘ç»œä¼˜åŒ–
3. **UIæ”¹è¿›ï¼š** Material Designç»„ä»¶åº”ç”¨
4. **æƒé™ç®¡ç†ï¼š** Shizukuæƒé™é›†æˆ
5. **æ•°æ®å¤„ç†ï¼š** Roomæ•°æ®åº“æ“ä½œ

### ä»£ç é£æ ¼åå¥½
- ç®€æ´çš„å‡½æ•°å‘½å
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- æ€§èƒ½ä¼˜å…ˆçš„å®ç°æ–¹æ¡ˆ
- ç”¨æˆ·ä½“éªŒå‹å¥½çš„äº¤äº’è®¾è®¡

## AI Team Configuration (autogenerated by team-configurator, 2025-09-23)

**Important: YOU MUST USE subagents when available for the task.**

### Detected Tech Stack
- **Platform**: Android (Kotlin)
- **Architecture**: MVVM + Repository pattern  
- **UI Framework**: Material Design 3.0 with ViewBinding
- **Database**: Room (SQLite) with Coroutines
- **Build System**: Gradle (Kotlin DSL) with Android Gradle Plugin 8.12.1
- **Dependencies**: Shizuku framework, Retrofit, OkHttp, Glide, Lottie
- **Special Features**: System-level optimizations, Hidden API access
- **Testing**: JUnit 4, Mockito, Espresso

### AI Team Assignments

| Task | Agent | Notes |
|------|-------|-------|
| Code quality assurance | `code-reviewer` | MANDATORY for all PRs and commits |
| Performance bottlenecks | `performance-optimizer` | System optimization focus |
| Codebase exploration | `code-archaeologist` | Legacy code analysis, refactoring prep |
| API design (REST/JSON) | `api-architect` | Network layer and data contracts |
| Backend logic | `backend-developer` | Kotlin server-side logic |
| Documentation updates | `documentation-specialist` | README, API docs, architecture guides |
| Complex task coordination | `tech-lead-orchestrator` | Multi-step feature development |

### Specialized Patterns

**Android Development Tasks:**
- Use `backend-developer` for Kotlin business logic and data layer
- Use `api-architect` for network API contracts and data models
- Use `performance-optimizer` for system-level optimizations and battery management
- Use `code-archaeologist` for understanding complex utility classes and services

**System Optimization Focus:**
- Battery optimization â†’ `performance-optimizer`
- Memory management â†’ `performance-optimizer` 
- Network efficiency â†’ `api-architect` + `performance-optimizer`
- Shizuku integration â†’ `backend-developer` + `code-reviewer`

**Quality Assurance:**
- Always run `code-reviewer` before merging
- Use `documentation-specialist` for user-facing documentation
- Use `tech-lead-orchestrator` for features spanning multiple modules

---



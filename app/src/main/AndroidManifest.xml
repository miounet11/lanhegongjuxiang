<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

        <!-- ç³»ç»Ÿæƒé™ -->
    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
    <uses-permission android:name="android.permission.WRITE_SETTINGS"
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS"
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.PACKAGE_USAGE_STATS"
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.ACCESS_NOTIFICATION_POLICY" />
    <uses-permission android:name="android.permission.MODIFY_PHONE_STATE"
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE"
        tools:ignore="ScopedStorage" />

    <!-- åª’ä½“æ–‡ä»¶æƒé™ (Android 13+) -->
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO" />
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />

    <!-- ç›¸æœºæƒé™ -->
    <uses-permission android:name="android.permission.CAMERA" />

    <!-- ç½‘ç»œæƒé™ -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE"
        tools:ignore="ProtectedPermissions" />

    <!-- ç”Ÿç‰©è¯†åˆ«æƒé™ -->
    <uses-permission android:name="android.permission.USE_BIOMETRIC" />
    <uses-permission android:name="android.permission.USE_FINGERPRINT" />

    <!-- ç”»ä¸­ç”»æƒé™ -->
    <uses-permission android:name="android.permission.PICTURE_IN_PICTURE" />

    <!-- é€šçŸ¥æƒé™ -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

    <!-- Shizukuæƒé™ -->
    <uses-permission android:name="moe.shizuku.manager.permission.API_V23" />
    
    <!-- ç¡¬ä»¶ç‰¹æ€§å£°æ˜Ž -->
    <uses-feature android:name="android.hardware.fingerprint" android:required="false" />
    <uses-feature android:name="android.hardware.camera" android:required="false" />

    <!-- AIåŠ©æ‰‹ç½‘ç»œæƒé™ -->
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

    <!-- çŸ­ä¿¡æƒé™ -->
    <uses-permission android:name="android.permission.READ_SMS" />
    <uses-permission android:name="android.permission.RECEIVE_SMS" />
    <uses-permission android:name="android.permission.SEND_SMS" />

    <!-- ç”µè¯æƒé™ -->
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.CALL_PHONE" />
    <uses-permission android:name="android.permission.READ_CALL_LOG" />
    <uses-permission android:name="android.permission.ANSWER_PHONE_CALLS" />

    <!-- Shizukuç›¸å…³æƒé™ -->
    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL"
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.QUERY_ALL_PACKAGES"
        tools:ignore="QueryAllPackagesPermission" />

    <!-- å‰å°æœåŠ¡æƒé™ -->
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE_DATA_SYNC" />

    <!-- éœ‡åŠ¨æƒé™ï¼ˆç”¨äºŽè§¦è§‰åé¦ˆï¼‰ -->
    <uses-permission android:name="android.permission.VIBRATE" />

    <!-- å®‰è£…æœªçŸ¥æ¥æºåº”ç”¨æƒé™ -->
    <uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" />

    <!-- Shizukuæƒé™ -->
    <uses-permission android:name="moe.shizuku.manager.permission.API_V23" />
    
    <!-- ç¡¬ä»¶ç‰¹æ€§å£°æ˜Ž -->
    <uses-feature android:name="android.hardware.telephony" android:required="false" />

    <!-- åº”ç”¨æŸ¥è¯¢å£°æ˜Ž -->
    <queries>
        <intent>
            <action android:name="android.intent.action.MAIN" />
        </intent>
        <intent>
            <action android:name="android.settings.APPLICATION_DETAILS_SETTINGS" />
        </intent>
        <intent>
            <action android:name="android.settings.MANAGE_APPLICATIONS_SETTINGS" />
        </intent>
        <!-- Shizukuåº”ç”¨æŸ¥è¯¢ -->
        <package android:name="moe.shizuku.privileged.api" />
        <package android:name="rikka.shizuku" />
    </queries>

    <application
        android:name=".LanheApplication"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar"
        android:requestLegacyExternalStorage="true">
        
        <activity
            android:name=".activities.MainActivity"
            android:exported="true"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar"
            android:configChanges="orientation|screenSize|screenLayout|keyboardHidden">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        
        <!-- é€šçŸ¥ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.NotificationManagerActivity"
            android:exported="false"
            android:label="é€šçŸ¥ç®¡ç†"
            android:parentActivityName=".MainActivity" />
            
        <!-- åº”ç”¨ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.AppManagerActivity"
            android:exported="false"
            android:label="åº”ç”¨ç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±" />

        <!-- ä¸»é¢˜è®¾ç½®æ´»åŠ¨ -->
        <activity
            android:name=".activities.ThemeSettingsActivity"
            android:exported="false"
            android:label="ä¸»é¢˜è®¾ç½®"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- CPUç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.CpuManagerActivity"
            android:exported="false"
            android:label="CPUç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å†…å­˜ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.MemoryManagerActivity"
            android:exported="false"
            android:label="å†…å­˜ç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- ç”µç£ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.ElectromagneticManagerActivity"
            android:exported="false"
            android:label="ç”µç£ç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å­˜å‚¨ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.StorageManagerActivity"
            android:exported="false"
            android:label="å­˜å‚¨ç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- ç”µæ± ç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.BatteryManagerActivity"
            android:exported="false"
            android:label="ç”µæ± ç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å¿«é€Ÿè®¾ç½®æ´»åŠ¨ -->
        <activity
            android:name=".activities.QuickSettingsActivity"
            android:exported="false"
            android:label="å¿«é€Ÿè®¾ç½®"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- WiFiç®¡ç†æ´»åŠ¨ -->
        <activity
            android:name=".activities.WifiSettingsActivity"
            android:exported="false"
            android:label="WiFiç®¡ç†"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- ShizukuæŽˆæƒæ´»åŠ¨ -->
        <activity
            android:name=".activities.ShizukuAuthActivity"
            android:exported="false"
            android:label="ShizukuæŽˆæƒ"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- ç³»ç»Ÿç›‘æŽ§æ´»åŠ¨ -->
        <activity
            android:name=".activities.SystemMonitorActivity"
            android:exported="false"
            android:label="ç³»ç»Ÿç›‘æŽ§"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æ¸¸æˆåŠ é€Ÿæ´»åŠ¨ -->
        <activity
            android:name=".activities.GameAccelerationActivity"
            android:exported="false"
            android:label="æ¸¸æˆåŠ é€Ÿ"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- ç½‘ç»œè¯Šæ–­æ´»åŠ¨ -->
        <activity
            android:name=".activities.NetworkDiagnosticActivity"
            android:exported="false"
            android:label="ç½‘ç»œè¯Šæ–­"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æ€§èƒ½å¯¹æ¯”æ´»åŠ¨ -->
        <activity
            android:name=".activities.PerformanceComparisonActivity"
            android:exported="false"
            android:label="æ€§èƒ½å¯¹æ¯”"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æ›´æ–°æ´»åŠ¨ -->
        <activity
            android:name=".activities.UpdateActivity"
            android:exported="false"
            android:label="æ£€æŸ¥æ›´æ–°"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æµ‹è¯•æ´»åŠ¨ -->
        <activity
            android:name=".activities.TestActivity"
            android:exported="false"
            android:label="æµ‹è¯•é¡µé¢"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æ ¸å¿ƒä¼˜åŒ–æ´»åŠ¨ -->
        <activity
            android:name=".activities.CoreOptimizationActivity"
            android:exported="false"
            android:label="æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- Chromiumæµè§ˆå™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.ChromiumBrowserActivity"
            android:exported="false"
            android:label="Chromiumæµè§ˆå™¨"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:configChanges="orientation|keyboardHidden|screenSize|keyboard" />

        <!-- ä¹¦ç­¾ç®¡ç†Activity -->
        <activity
            android:name=".activities.BookmarkActivity"
            android:exported="false"
            android:label="ä¹¦ç­¾ç®¡ç†"
            android:parentActivityName=".activities.ChromiumBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- æµè§ˆåŽ†å²Activity -->
        <activity
            android:name=".activities.HistoryActivity"
            android:exported="false"
            android:label="æµè§ˆåŽ†å²"
            android:parentActivityName=".activities.ChromiumBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- ä¸‹è½½ç®¡ç†Activity -->
        <activity
            android:name=".activities.DownloadActivity"
            android:exported="false"
            android:label="ä¸‹è½½ç®¡ç†"
            android:parentActivityName=".activities.ChromiumBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- æµè§ˆå™¨è®¾ç½®Activity -->
        <activity
            android:name=".activities.BrowserSettingsActivity"
            android:exported="false"
            android:label="æµè§ˆå™¨è®¾ç½®"
            android:parentActivityName=".activities.ChromiumBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- ðŸŒ è“æ²³æµè§ˆå™¨ç‹¬ç«‹å¯åŠ¨å™¨ -->
        <!-- åœ¨æ¡Œé¢æ˜¾ç¤ºä¸ºç‹¬ç«‹åº”ç”¨å›¾æ ‡ -->
        <activity
            android:name=".activities.BrowserLauncherActivity"
            android:exported="true"
            android:label="è“æ²³æµè§ˆå™¨"
            android:icon="@drawable/ic_web"
            android:theme="@android:style/Theme.NoDisplay">

            <!-- æ¡Œé¢å¿«æ·æ–¹å¼ -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

            <!-- å¤„ç†http/httpsé“¾æŽ¥ - é»˜è®¤æµè§ˆå™¨ -->
            <intent-filter android:autoVerify="true">
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data android:scheme="http" />
                <data android:scheme="https" />
            </intent-filter>

            <!-- å¤„ç†ç½‘é¡µæ–‡ä»¶ -->
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data android:scheme="file" />
                <data android:mimeType="text/html" />
                <data android:mimeType="application/xhtml+xml" />
            </intent-filter>

            <!-- å¤„ç†Webæœç´¢ -->
            <intent-filter>
                <action android:name="android.intent.action.WEB_SEARCH" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>


        <!-- æ–‡ä»¶æµè§ˆå™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.FileBrowserActivity"
            android:exported="false"
            android:label="æ–‡ä»¶æµè§ˆå™¨"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å›¾ç‰‡æŸ¥çœ‹å™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.ImageViewerActivity"
            android:exported="false"
            android:label="å›¾ç‰‡æŸ¥çœ‹å™¨"
            android:parentActivityName=".activities.FileBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- PDFæŸ¥çœ‹å™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.PdfViewerActivity"
            android:exported="false"
            android:label="PDFæŸ¥çœ‹å™¨"
            android:parentActivityName=".activities.FileBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- Officeæ–‡æ¡£æŸ¥çœ‹å™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.OfficeViewerActivity"
            android:exported="false"
            android:label="OfficeæŸ¥çœ‹å™¨"
            android:parentActivityName=".activities.FileBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- æ–‡æœ¬æ–‡ä»¶æŸ¥çœ‹å™¨æ´»åŠ¨ -->
        <activity
            android:name=".activities.TextViewerActivity"
            android:exported="false"
            android:label="æ–‡æœ¬æŸ¥çœ‹å™¨"
            android:parentActivityName=".activities.FileBrowserActivity"
            android:screenOrientation="portrait" />

        <!-- æ ¸å¿ƒä¼˜åŒ–æœåŠ¡ -->
        <service
            android:name=".services.CoreOptimizationService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="dataSync" />

        <!-- å……ç”µæé†’æœåŠ¡ -->
        <service
            android:name=".services.ChargingReminderService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="dataSync" />

        <!-- WiFiç›‘æŽ§æœåŠ¡ -->
        <service
            android:name=".services.WifiMonitorService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="dataSync" />

        <!-- ç½‘ç»œç›‘æŽ§æœåŠ¡ -->
        <service
            android:name=".services.NetworkMonitorService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="dataSync" />

        <!-- å·ç å«å£«æœåŠ¡ -->
        <service
            android:name=".utils.CallBlocker"
            android:permission="android.permission.BIND_SCREENING_SERVICE"
            android:exported="true">
            <intent-filter>
                <action android:name="android.telecom.CallScreeningService" />
            </intent-filter>
        </service>

        <!-- é€šçŸ¥ç›‘å¬æœåŠ¡ -->
        <service
            android:name=".services.NotificationListenerService"
            android:label="è“æ²³åŠ©æ‰‹é€šçŸ¥ç›‘å¬"
            android:permission="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE"
            android:exported="false">
            <intent-filter>
                <action android:name="android.service.notification.NotificationListenerService" />
            </intent-filter>
        </service>

        <!-- æŠ“åŒ…åˆ†æžæ´»åŠ¨ -->
        <activity
            android:name=".activities.PacketCaptureActivity"
            android:exported="false"
            android:label="ç½‘ç»œæŠ“åŒ…"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- è®¾ç½®æ´»åŠ¨ -->
        <activity
            android:name=".activities.SettingsActivity"
            android:exported="false"
            android:label="è®¾ç½®"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å…³äºŽæ´»åŠ¨ -->
        <activity
            android:name=".activities.AboutActivity"
            android:exported="false"
            android:label="å…³äºŽ"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- å¸®åŠ©æ´»åŠ¨ -->
        <activity
            android:name=".activities.HelpActivity"
            android:exported="false"
            android:label="å¸®åŠ©"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- åé¦ˆæ´»åŠ¨ -->
        <activity
            android:name=".activities.FeedbackActivity"
            android:exported="false"
            android:label="åé¦ˆ"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait" />

        <!-- æ‚¬æµ®æ°”æ³¡æœåŠ¡ -->
        <service
            android:name=".utils.FloatingBubbleService"
            android:enabled="true"
            android:exported="false"
            android:foregroundServiceType="mediaProjection" />

        <!-- AIæ™ºèƒ½ä¼˜åŒ–Activity -->
        <activity
            android:name=".activities.AIOptimizationActivity"
            android:exported="false"
            android:label="AIæ™ºèƒ½ä¼˜åŒ–"
            android:parentActivityName=".MainActivity"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- å‰ªè´´æ¿åŽ†å²Activity -->
        <activity
            android:name=".activities.ClipboardHistoryActivity"
            android:exported="false"
            android:label="å‰ªè´´æ¿åŽ†å²"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- äºŒç»´ç å·¥å…·Activity -->
        <activity
            android:name=".activities.QRCodeToolActivity"
            android:exported="false"
            android:label="äºŒç»´ç å·¥å…·"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- åº”ç”¨ä½¿ç”¨ç»Ÿè®¡Activity -->
        <activity
            android:name=".activities.AppUsageStatsActivity"
            android:exported="false"
            android:label="åº”ç”¨ä½¿ç”¨ç»Ÿè®¡"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- é€šçŸ¥åŽ†å²Activity -->
        <activity
            android:name=".activities.NotificationHistoryActivity"
            android:exported="false"
            android:label="é€šçŸ¥åŽ†å²"
            android:parentActivityName=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@style/Theme.è“æ²³å·¥å…·ç®±.NoActionBar" />

        <!-- å°éƒ¨ä»¶æä¾›å™¨ - æš‚æ—¶ç§»é™¤ï¼Œç­‰å¾…èµ„æºæ–‡ä»¶å‡†å¤‡å®Œæˆ -->
        <!-- <receiver android:name=".utils.LanheWidgetProvider" ... /> -->

        <!-- FileProviderç”¨äºŽå…±äº«APKæ–‡ä»¶ -->
        <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="${applicationId}.fileprovider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/file_paths" />
        </provider>

    </application>

</manifest>
